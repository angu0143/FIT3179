<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Youth Crime in Australia</title>

  <!-- Vega libs (v5 for Vega & Vega-Lite, v6 for embed) -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

  <!-- Optional: PureCSS + simple styling -->
  <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css" />
  <style>
    * { box-sizing: border-box; }
    body { font-family: Arial, sans-serif; background:#f3f4f6; }
    .page { max-width: 900px; margin: 0 auto; background:#fff; padding: 40px; }
    h1 { margin-top: 0; }
    .vis-container { width: 100%; }
    .section { margin: 32px 0; }
  </style>
</head>

<body>
  <div class="page">
    <!-- Title -->
    <div class="pure-g section">
      <div class="pure-u-1">
        <h1>Youth Crime in Australia</h1>
      </div>
    </div>

    <!-- Intro -->
    <div class="pure-g section">
      <div class="pure-u-1">
        <h2>Introduction</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. 
          Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. 
          Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. 
          Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
      </div>
    </div>

    <!-- Map FIRST -->
    <div class="pure-g section">
      <div class="pure-u-1">
        <h3>Youth Crimes detected across Australia (Map)</h3>
        <div id="vis_map" class="vis-container"></div>
      </div>
    </div>

    <!-- Line Chart  -->
    <div class="pure-g section">
      <div class="pure-u-1">
        <h3>Youth Offenders by Age & Sex</h3>
        <div id="vis_line" class="vis-container"></div>
      </div>
    </div>

    <!-- Stacked Bar Chart  -->
    <div class="pure-g section">
      <div class="pure-u-1">
        <h3>Youth Offenders Detention Rate </h3>
        <div id="vis_bar" class="vis-container"></div>
      </div>
    </div>

    <!-- Scatter chart -->
    <div class="pure-g section">
      <div class="pure-u-1">
        <h3>Socioeconomic Advantage vs Youth Offence Rate </h3>
        <div id="vis_scatter" class="vis-container"></div>
      </div>
    </div>
  </div>

  <!-- Embed scripts AFTER the containers exist -->
  <script>
    const MAP_SPEC     = "js/map.vg.json";                       // map spec
    const SCATTER_SPEC = "youthcrime_socioeconomic.json";        // scatter spec
    const LINE_SPEC    = "js/linechart.vg.json";                // line spec
    const BAR_SPEC = "js/stackedbarchart.vg.json";         // stacked bar chart spec

    // Embed each chart 
    vegaEmbed("#vis_map", MAP_SPEC, { actions: false })
      .then(() => console.log("Map rendered"))
      .catch(err => console.error("Map error:", err));

    vegaEmbed("#vis_scatter", SCATTER_SPEC, { actions: false })
      .then(() => console.log("Scatter rendered"))
      .catch(err => console.error("Scatter error:", err));

    vegaEmbed("#vis_line", LINE_SPEC, { actions: false })
      .then(() => console.log("Line rendered"))
      .catch(err => console.error("Line error:", err));

    vegaEmbed("#vis_bar", STACKED_SPEC, { actions: false })
      .then(() => console.log("Bar rendered"))
      .catch(err => console.error("Bar error:", err));  
  </script>
</body>
</html>
